{"ast":null,"code":"import gsap from \"gsap\";\nclass AUDIO_CONTROLLER {\n  constructor() {\n    this.tick = () => {\n      console.log(this.analyser.getByteFrequencyData(this.fdata));\n    };\n  }\n  setup() {\n    this.ctx = new (window.AudioContext || window.webkitAudioContext)();\n    this.audio = new Audio();\n    this.audio.volume = 0.1;\n    this.audio.crossOrigin = \"anonymous\";\n    this.audioSource = this.ctx.createMediaElementSource(this.audio);\n    this.analyser = new AnalyserNode(this.ctx, {\n      fftSize: 1024,\n      smoothingTimeConstant: 0.8\n    });\n    this.fdata = new Uint8Array(this.analyser.frequencyBinCount);\n    console.log(this.fdata);\n    this.audioSource.connect(this.analyser);\n    this.audioSource.connect(this.ctx.destination);\n    gsap.tick.add(this.tick());\n  }\n  updateSong(preview) {\n    console.log(preview);\n    this.audio.src = preview;\n    this.audio.currentTime = 0;\n    this.audio.play();\n  }\n}\nconst AudioController = new AUDIO_CONTROLLER();\nexport default AudioController;","map":{"version":3,"names":["gsap","AUDIO_CONTROLLER","constructor","tick","console","log","analyser","getByteFrequencyData","fdata","setup","ctx","window","AudioContext","webkitAudioContext","audio","Audio","volume","crossOrigin","audioSource","createMediaElementSource","AnalyserNode","fftSize","smoothingTimeConstant","Uint8Array","frequencyBinCount","connect","destination","add","updateSong","preview","src","currentTime","play","AudioController"],"sources":["/Users/noamsebahoun/Documents/MMI/MMI_3/karl/three-reader-live/src/components/utils/AudioController.js"],"sourcesContent":["import gsap from \"gsap\";\n\nclass AUDIO_CONTROLLER{\n    setup(){\n        this.ctx = new (window.AudioContext || window.webkitAudioContext)();\n\n        this.audio = new Audio()\n        this.audio.volume = 0.1\n        this.audio.crossOrigin = \"anonymous\"\n\n        this.audioSource = this.ctx.createMediaElementSource(this.audio);\n        this.analyser = new AnalyserNode(this.ctx,{\n            fftSize:1024,\n            smoothingTimeConstant : 0.8\n        })\n        this.fdata = new Uint8Array(this.analyser.frequencyBinCount)\n        console.log(this.fdata)\n\n        this.audioSource.connect(this.analyser)\n        this.audioSource.connect(this.ctx.destination)\n\n        gsap.tick.add(this.tick())\n    }\n    updateSong(preview){\n        console.log(preview)\n        \n        this.audio.src = preview;\n        this.audio.currentTime = 0;\n        this.audio.play();\n    }\n    tick = () => {\n        console.log(this.analyser.getByteFrequencyData(this.fdata))\n    }\n}\nconst AudioController = new AUDIO_CONTROLLER()\nexport default AudioController"],"mappings":"AAAA,OAAOA,IAAI,MAAM,MAAM;AAEvB,MAAMC,gBAAgB;EAAAC,YAAA;IAAA,KA4BlBC,IAAI,GAAG,MAAM;MACTC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,QAAQ,CAACC,oBAAoB,CAAC,IAAI,CAACC,KAAK,CAAC,CAAC;IAC/D,CAAC;EAAA;EA7BDC,KAAKA,CAAA,EAAE;IACH,IAAI,CAACC,GAAG,GAAG,KAAKC,MAAM,CAACC,YAAY,IAAID,MAAM,CAACE,kBAAkB,EAAE,CAAC;IAEnE,IAAI,CAACC,KAAK,GAAG,IAAIC,KAAK,CAAC,CAAC;IACxB,IAAI,CAACD,KAAK,CAACE,MAAM,GAAG,GAAG;IACvB,IAAI,CAACF,KAAK,CAACG,WAAW,GAAG,WAAW;IAEpC,IAAI,CAACC,WAAW,GAAG,IAAI,CAACR,GAAG,CAACS,wBAAwB,CAAC,IAAI,CAACL,KAAK,CAAC;IAChE,IAAI,CAACR,QAAQ,GAAG,IAAIc,YAAY,CAAC,IAAI,CAACV,GAAG,EAAC;MACtCW,OAAO,EAAC,IAAI;MACZC,qBAAqB,EAAG;IAC5B,CAAC,CAAC;IACF,IAAI,CAACd,KAAK,GAAG,IAAIe,UAAU,CAAC,IAAI,CAACjB,QAAQ,CAACkB,iBAAiB,CAAC;IAC5DpB,OAAO,CAACC,GAAG,CAAC,IAAI,CAACG,KAAK,CAAC;IAEvB,IAAI,CAACU,WAAW,CAACO,OAAO,CAAC,IAAI,CAACnB,QAAQ,CAAC;IACvC,IAAI,CAACY,WAAW,CAACO,OAAO,CAAC,IAAI,CAACf,GAAG,CAACgB,WAAW,CAAC;IAE9C1B,IAAI,CAACG,IAAI,CAACwB,GAAG,CAAC,IAAI,CAACxB,IAAI,CAAC,CAAC,CAAC;EAC9B;EACAyB,UAAUA,CAACC,OAAO,EAAC;IACfzB,OAAO,CAACC,GAAG,CAACwB,OAAO,CAAC;IAEpB,IAAI,CAACf,KAAK,CAACgB,GAAG,GAAGD,OAAO;IACxB,IAAI,CAACf,KAAK,CAACiB,WAAW,GAAG,CAAC;IAC1B,IAAI,CAACjB,KAAK,CAACkB,IAAI,CAAC,CAAC;EACrB;AAIJ;AACA,MAAMC,eAAe,GAAG,IAAIhC,gBAAgB,CAAC,CAAC;AAC9C,eAAegC,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}