{"ast":null,"code":"import _classCallCheck from\"/Users/noamsebahoun/Documents/MMI/MMI_3/karl/three-reader-live/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/noamsebahoun/Documents/MMI/MMI_3/karl/three-reader-live/node_modules/@babel/runtime/helpers/esm/createClass.js\";import gsap from\"gsap\";var AUDIO_CONTROLLER=/*#__PURE__*/function(){function AUDIO_CONTROLLER(){var _this=this;_classCallCheck(this,AUDIO_CONTROLLER);this.tick=function(){_this.analyser.getByteFrequencyData(_this.fdata);};}_createClass(AUDIO_CONTROLLER,[{key:\"setup\",value:function setup(){this.ctx=new(window.AudioContext||window.webkitAudioContext)();this.audio=new Audio();this.audio.volume=0.1;this.audio.crossOrigin=\"anonymous\";this.audioSource=this.ctx.createMediaElementSource(this.audio);this.analyser=new AnalyserNode(this.ctx,{fftSize:1024,smoothingTimeConstant:0.8});this.fdata=new Uint8Array(this.analyser.frequencyBinCount);this.audioSource.connect(this.analyser);this.audioSource.connect(this.ctx.destination);gsap.ticker.add(this.tick);}},{key:\"updateSong\",value:function updateSong(preview){this.audio.src=preview;this.audio.currentTime=0;this.audio.play();}}]);return AUDIO_CONTROLLER;}();var AudioController=new AUDIO_CONTROLLER();export default AudioController;","map":{"version":3,"names":["gsap","AUDIO_CONTROLLER","_this","_classCallCheck","tick","analyser","getByteFrequencyData","fdata","_createClass","key","value","setup","ctx","window","AudioContext","webkitAudioContext","audio","Audio","volume","crossOrigin","audioSource","createMediaElementSource","AnalyserNode","fftSize","smoothingTimeConstant","Uint8Array","frequencyBinCount","connect","destination","ticker","add","updateSong","preview","src","currentTime","play","AudioController"],"sources":["/Users/noamsebahoun/Documents/MMI/MMI_3/karl/three-reader-live/src/components/utils/AudioController.js"],"sourcesContent":["import gsap from \"gsap\";\n\nclass AUDIO_CONTROLLER{\n    setup(){\n        this.ctx = new (window.AudioContext || window.webkitAudioContext)();\n\n        this.audio = new Audio()\n        this.audio.volume = 0.1\n        this.audio.crossOrigin = \"anonymous\"\n\n        this.audioSource = this.ctx.createMediaElementSource(this.audio);\n        this.analyser = new AnalyserNode(this.ctx,{\n            fftSize:1024,\n            smoothingTimeConstant : 0.8\n        })\n        this.fdata = new Uint8Array(this.analyser.frequencyBinCount)\n\n        this.audioSource.connect(this.analyser)\n        this.audioSource.connect(this.ctx.destination)\n\n        gsap.ticker.add(this.tick)\n    }\n    updateSong(preview){\n        this.audio.src = preview;\n        this.audio.currentTime = 0;\n        this.audio.play();\n    }\n    tick = () => {\n        this.analyser.getByteFrequencyData(this.fdata)\n    }\n}\nconst AudioController = new AUDIO_CONTROLLER()\nexport default AudioController"],"mappings":"sSAAA,MAAO,CAAAA,IAAI,KAAM,MAAM,CAAC,GAElB,CAAAC,gBAAgB,kCAAAA,iBAAA,MAAAC,KAAA,MAAAC,eAAA,MAAAF,gBAAA,OAyBlBG,IAAI,CAAG,UAAM,CACTF,KAAI,CAACG,QAAQ,CAACC,oBAAoB,CAACJ,KAAI,CAACK,KAAK,CAAC,CAClD,CAAC,EAAAC,YAAA,CAAAP,gBAAA,GAAAQ,GAAA,SAAAC,KAAA,CA1BD,SAAAC,MAAA,CAAO,CACH,IAAI,CAACC,GAAG,CAAG,IAAKC,MAAM,CAACC,YAAY,EAAID,MAAM,CAACE,kBAAkB,EAAE,CAAC,CAEnE,IAAI,CAACC,KAAK,CAAG,GAAI,CAAAC,KAAK,CAAC,CAAC,CACxB,IAAI,CAACD,KAAK,CAACE,MAAM,CAAG,GAAG,CACvB,IAAI,CAACF,KAAK,CAACG,WAAW,CAAG,WAAW,CAEpC,IAAI,CAACC,WAAW,CAAG,IAAI,CAACR,GAAG,CAACS,wBAAwB,CAAC,IAAI,CAACL,KAAK,CAAC,CAChE,IAAI,CAACX,QAAQ,CAAG,GAAI,CAAAiB,YAAY,CAAC,IAAI,CAACV,GAAG,CAAC,CACtCW,OAAO,CAAC,IAAI,CACZC,qBAAqB,CAAG,GAC5B,CAAC,CAAC,CACF,IAAI,CAACjB,KAAK,CAAG,GAAI,CAAAkB,UAAU,CAAC,IAAI,CAACpB,QAAQ,CAACqB,iBAAiB,CAAC,CAE5D,IAAI,CAACN,WAAW,CAACO,OAAO,CAAC,IAAI,CAACtB,QAAQ,CAAC,CACvC,IAAI,CAACe,WAAW,CAACO,OAAO,CAAC,IAAI,CAACf,GAAG,CAACgB,WAAW,CAAC,CAE9C5B,IAAI,CAAC6B,MAAM,CAACC,GAAG,CAAC,IAAI,CAAC1B,IAAI,CAAC,CAC9B,CAAC,GAAAK,GAAA,cAAAC,KAAA,CACD,SAAAqB,WAAWC,OAAO,CAAC,CACf,IAAI,CAAChB,KAAK,CAACiB,GAAG,CAAGD,OAAO,CACxB,IAAI,CAAChB,KAAK,CAACkB,WAAW,CAAG,CAAC,CAC1B,IAAI,CAAClB,KAAK,CAACmB,IAAI,CAAC,CAAC,CACrB,CAAC,WAAAlC,gBAAA,KAKL,GAAM,CAAAmC,eAAe,CAAG,GAAI,CAAAnC,gBAAgB,CAAC,CAAC,CAC9C,cAAe,CAAAmC,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}